import{d as b,c as i,a,b as O,t as f,e as y,o as r,f as T,r as j,g,w as B,h as C,v as E,u as v,F as k,i as h,j as I,_ as S,n as w,k as x}from"./index-ilv8YPkb.js";import{u as F,O as D}from"./devops-NF2cvquM.js";const V={key:0},N=b({__name:"FilterSingleQueryQuickComponent",props:{filterObject:{}},emits:["onClick","onEdit"],setup(c,{emit:u}){const n=u,e=c,d=function(){n("onClick")},p=function(){n("onEdit")};return(t,s)=>(r(),i("div",{onOnclick:s[1]||(s[1]=l=>d())},[a("h4",null,[O(f(e.filterObject.name)+" ",1),a("i",{onClick:s[0]||(s[0]=l=>p()),class:"bi bi-pencil-square"})]),a("h5",null,[e.filterObject.enabled===!1?(r(),i("span",V,"Disabled")):y("",!0)])],32))}}),Q=T("filters",()=>{const c=new Map;return{getFilterById:e=>c.get(e),getFilterByType:e=>[...c.values()].filter(d=>d.filterType===e)}});var _=(c=>(c.SingleObjectFilter="Single-Object Filter",c))(_||{});const L={"data-bs-backdrop":"false",class:"offcanvas offcanvas-bottom",tabindex:"-1",id:"filterOffCanvas","aria-labelledby":"filterOffCanvasLabel"},q={class:"offcanvas-body small"},G={key:0},M={key:1},P=b({__name:"FilterView",setup(c){const u=Q(),n=j(null),e=g(()=>n.value!==null),d=p=>{const t={filterType:p};n.value=t};return(p,t)=>{var l;const s=I("FilterSingleQueryEditComponent");return r(),i("div",L,[t[4]||(t[4]=a("div",{class:"offcanvas-header"},[O(" Filters: "),a("div",{"aria-controls":"filterOffCanvas",class:"btn btn-primary",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#filterOffCanvas"},"TOGGLE ")],-1)),a("div",q,[e.value?(r(),i("div",G,[t[2]||(t[2]=a("h4",null,"Editing",-1)),n.value?B((r(),i("input",{key:0,placeholder:"Name","onUpdate:modelValue":t[0]||(t[0]=o=>n.value.name=o)},null,512)),[[E,n.value.name]]):y("",!0),((l=n.value)==null?void 0:l.filterType)==v(_).SingleObjectFilter?(r(),C(s,{key:1})):y("",!0)])):(r(),i("div",M,[a("h4",null,[t[3]||(t[3]=O(" Single-Object Filters: ")),a("i",{onClick:t[1]||(t[1]=o=>d(v(_).SingleObjectFilter)),class:"bi bi-plus-square"})]),(r(!0),i(k,null,h(v(u).getFilterByType(v(_).SingleObjectFilter),o=>(r(),C(N,{onOnEdit:m=>n.value=o,"filter-object":o,key:o.id},null,8,["onOnEdit","filter-object"]))),128))]))])])}}}),z=S(P,[["__scopeId","data-v-7d8ea11b"]]),A={class:"card-body"},U={class:"card-title"},H={class:"card-title"},J=b({__name:"DevOpsQuick",props:{id:{},featured:{type:Boolean}},emits:["click"],setup(c,{emit:u}){const n=F(),e=c,d=u,p=g(()=>n.getObject(e.id)),t=g(()=>e.featured||!1),s=()=>{d("click")};return(l,o)=>{var m,$;return r(),i("div",{onClick:o[0]||(o[0]=ne=>s()),class:w({card:!0,"mb-3":!0,"mx-2":!0,shadow:!0,"text-bg-info":t.value}),style:{width:"18rem"}},[a("div",A,[a("h5",U,f((m=p.value)==null?void 0:m.name()),1),a("h6",H,f(($=p.value)==null?void 0:$.DevOpsType),1)])],2)}}}),K=S(J,[["__scopeId","data-v-b10258d6"]]),R={"aria-label":"breadcrumb"},W={class:"breadcrumb"},X=["onClick"],Y={href:"javascript:;"},Z={key:0,class:"breadcrumb-item","aria-current":"page"},ee={href:"javascript:;"},te=b({__name:"DevOpsBreadCrumbs",props:{objectIds:{},defaultText:{}},emits:["click"],setup(c,{emit:u}){const n=u,e=c,d=F();return(p,t)=>(r(),i("nav",R,[a("ol",W,[(r(!0),i(k,null,h(e.objectIds,s=>{var l,o;return r(),i("li",{onClick:m=>n("click",s),class:"breadcrumb-item","aria-current":"page",key:s},[a("a",Y,f((l=v(d).getObject(s))==null?void 0:l.name())+" ("+f((o=v(d).getObject(s))==null?void 0:o.DevOpsType)+") ",1)],8,X)}),128)),e.objectIds.length==0&&e.defaultText?(r(),i("li",Z,[a("a",ee,f(e.defaultText),1)])):y("",!0)])]))}}),se={class:"container"},ae=b({__name:"ExplorerView",setup(c){const u=F(),n=j([]),e=j([]),d=g(()=>{var s;let t=[];if(e.value.length>0){const l=e.value[e.value.length-1];t=((s=u.getObject(l))==null?void 0:s.children())||[]}return t=u.devopsObjectsByType(D.TeamProject),t.sort((l,o)=>l.sortBy.localeCompare(o.sortBy))}),p=t=>{let s=e.value.pop();for(;e.value.length>0&&s!=t;)s=e.value.pop()};return(t,s)=>(r(),i(k,null,[x(te,{objectIds:e.value,onClick:p,defaultText:"All Projects"},null,8,["objectIds"]),a("div",se,[(r(!0),i(k,null,h(d.value,l=>(r(),C(K,{onClick:o=>e.value.push(l._id),id:l._id,featured:n.value.includes(l._id),key:l._id},null,8,["onClick","id","featured"]))),128))]),x(z)],64))}});export{ae as default};
