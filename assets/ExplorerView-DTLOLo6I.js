import{d as m,c,a as o,b as y,t as b,e as O,o as l,f as x,r as C,g,w as B,h as F,v as T,u as v,F as k,i as j,j as w,_ as E,n as I,k as S}from"./index-DDkLTthV.js";import{u as h,O as D}from"./devops-DXHZcS-2.js";const V={key:0},N=m({__name:"FilterSingleQueryQuickComponent",props:{filterObject:{}},emits:["onClick","onEdit"],setup(r,{emit:u}){const n=u,e=r,d=function(){n("onClick")},p=function(){n("onEdit")};return(t,s)=>(l(),c("div",{onOnclick:s[1]||(s[1]=i=>d())},[o("h4",null,[y(b(e.filterObject.name)+" ",1),o("i",{onClick:s[0]||(s[0]=i=>p()),class:"bi bi-pencil-square"})]),o("h5",null,[e.filterObject.enabled===!1?(l(),c("span",V,"Disabled")):O("",!0)])],32))}}),Q=x("filters",()=>{const r=new Map;return{getFilterById:e=>r.get(e),getFilterByType:e=>[...r.values()].filter(d=>d.filterType===e)}});var _=(r=>(r.SingleObjectFilter="Single-Object Filter",r))(_||{});const L={"data-bs-backdrop":"false",class:"offcanvas offcanvas-bottom",tabindex:"-1",id:"filterOffCanvas","aria-labelledby":"filterOffCanvasLabel"},q={class:"offcanvas-body small"},G={key:0},M={key:1},z=m({__name:"FilterView",setup(r){const u=Q(),n=C(null),e=g(()=>n.value!==null),d=p=>{const t={filterType:p};n.value=t};return(p,t)=>{var i;const s=w("FilterSingleQueryEditComponent");return l(),c("div",L,[t[4]||(t[4]=o("div",{class:"offcanvas-header"},[y(" Filters: "),o("div",{"aria-controls":"filterOffCanvas",class:"btn btn-primary",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#filterOffCanvas"},"TOGGLE ")],-1)),o("div",q,[e.value?(l(),c("div",G,[t[2]||(t[2]=o("h4",null,"Editing",-1)),n.value?B((l(),c("input",{key:0,placeholder:"Name","onUpdate:modelValue":t[0]||(t[0]=a=>n.value.name=a)},null,512)),[[T,n.value.name]]):O("",!0),((i=n.value)==null?void 0:i.filterType)==v(_).SingleObjectFilter?(l(),F(s,{key:1})):O("",!0)])):(l(),c("div",M,[o("h4",null,[t[3]||(t[3]=y(" Single-Object Filters: ")),o("i",{onClick:t[1]||(t[1]=a=>d(v(_).SingleObjectFilter)),class:"bi bi-plus-square"})]),(l(!0),c(k,null,j(v(u).getFilterByType(v(_).SingleObjectFilter),a=>(l(),F(N,{onOnEdit:f=>n.value=a,"filter-object":a,key:a.id},null,8,["onOnEdit","filter-object"]))),128))]))])])}}}),P=E(z,[["__scopeId","data-v-7d8ea11b"]]),U={class:"card-body"},A={class:"card-title"},H={class:"card-title"},J=m({__name:"DevOpsQuick",props:{id:{},featured:{type:Boolean}},emits:["click"],setup(r,{emit:u}){const n=h(),e=r,d=u,p=g(()=>n.getObject(e.id)),t=g(()=>e.featured||!1),s=()=>{d("click")};return(i,a)=>{var f,$;return l(),c("div",{onClick:a[0]||(a[0]=te=>s()),class:I({card:!0,"mb-3":!0,"mx-2":!0,shadow:!0,"text-bg-info":t.value}),style:{width:"18rem"}},[o("div",U,[o("h5",A,b((f=p.value)==null?void 0:f.name()),1),o("h6",H,b(($=p.value)==null?void 0:$.DevOpsType),1)])],2)}}}),K=E(J,[["__scopeId","data-v-b10258d6"]]),R={"aria-label":"breadcrumb"},W={class:"breadcrumb"},X=["onClick"],Y={href:"#"},Z=m({__name:"DevOpsBreadCrumbs",props:{objectIds:{}},emits:["click"],setup(r,{emit:u}){const n=u,e=r,d=h();return(p,t)=>(l(),c("nav",R,[o("ol",W,[(l(!0),c(k,null,j(e.objectIds,s=>{var i,a;return l(),c("li",{onClick:f=>n("click",s),class:"breadcrumb-item","aria-current":"page",key:s},[o("a",Y,b((i=v(d).getObject(s))==null?void 0:i.name())+" ("+b((a=v(d).getObject(s))==null?void 0:a.DevOpsType)+") ",1)],8,X)}),128))])]))}}),ee={class:"container"},le=m({__name:"ExplorerView",setup(r){const u=h(),n=C([]),e=C([]),d=g(()=>{var t;if(console.log("bread crumb id",e.value),e.value.length>0){const s=e.value[e.value.length-1];return(t=u.getObject(s))==null?void 0:t.children()}return u.devopsObjectsByType(D.TeamProject)}),p=t=>{console.log("bread click",t);let s=e.value.pop();for(;e.value.length>0&&s!=t;)s=e.value.pop()};return(t,s)=>(l(),c(k,null,[S(Z,{objectIds:e.value,onClick:p},null,8,["objectIds"]),o("div",ee,[(l(!0),c(k,null,j(d.value,i=>(l(),F(K,{onClick:a=>e.value.push(i._id),id:i._id,featured:n.value.includes(i._id),key:i._id},null,8,["onClick","id","featured"]))),128))]),S(P)],64))}});export{le as default};
