import{d as b,c as i,a as r,b as O,t as f,e as g,o as l,f as T,r as j,g as k,w as E,h,v as B,u as v,F as y,i as C,j as I,_ as S,n as w,k as x}from"./index-uj3r6HJY.js";import{u as F,O as D}from"./devops-DhiLVgqc.js";const V={key:0},N=b({__name:"FilterSingleQueryQuickComponent",props:{filterObject:{}},emits:["onClick","onEdit"],setup(a,{emit:u}){const n=u,e=a,d=function(){n("onClick")},p=function(){n("onEdit")};return(t,s)=>(l(),i("div",{onOnclick:s[1]||(s[1]=o=>d())},[r("h4",null,[O(f(e.filterObject.name)+" ",1),r("i",{onClick:s[0]||(s[0]=o=>p()),class:"bi bi-pencil-square"})]),r("h5",null,[e.filterObject.enabled===!1?(l(),i("span",V,"Disabled")):g("",!0)])],32))}}),Q=T("filters",()=>{const a=new Map;return{getFilterById:e=>a.get(e),getFilterByType:e=>[...a.values()].filter(d=>d.filterType===e)}});var m=(a=>(a.SingleObjectFilter="Single-Object Filter",a))(m||{});const L={"data-bs-backdrop":"false",class:"offcanvas offcanvas-bottom",tabindex:"-1",id:"filterOffCanvas","aria-labelledby":"filterOffCanvasLabel"},q={class:"offcanvas-body small"},G={key:0},M={key:1},P=b({__name:"FilterView",setup(a){const u=Q(),n=j(null),e=k(()=>n.value!==null),d=p=>{const t={filterType:p};n.value=t};return(p,t)=>{var o;const s=I("FilterSingleQueryEditComponent");return l(),i("div",L,[t[4]||(t[4]=r("div",{class:"offcanvas-header"},[O(" Filters: "),r("div",{"aria-controls":"filterOffCanvas",class:"btn btn-primary",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#filterOffCanvas"},"TOGGLE ")],-1)),r("div",q,[e.value?(l(),i("div",G,[t[2]||(t[2]=r("h4",null,"Editing",-1)),n.value?E((l(),i("input",{key:0,placeholder:"Name","onUpdate:modelValue":t[0]||(t[0]=c=>n.value.name=c)},null,512)),[[B,n.value.name]]):g("",!0),((o=n.value)==null?void 0:o.filterType)==v(m).SingleObjectFilter?(l(),h(s,{key:1})):g("",!0)])):(l(),i("div",M,[r("h4",null,[t[3]||(t[3]=O(" Single-Object Filters: ")),r("i",{onClick:t[1]||(t[1]=c=>d(v(m).SingleObjectFilter)),class:"bi bi-plus-square"})]),(l(!0),i(y,null,C(v(u).getFilterByType(v(m).SingleObjectFilter),c=>(l(),h(N,{onOnEdit:_=>n.value=c,"filter-object":c,key:c.id},null,8,["onOnEdit","filter-object"]))),128))]))])])}}}),z=S(P,[["__scopeId","data-v-7d8ea11b"]]),A={class:"card-body"},U={class:"card-title"},H={class:"card-title"},J=b({__name:"DevOpsQuick",props:{id:{},featured:{type:Boolean}},emits:["click"],setup(a,{emit:u}){const n=F(),e=a,d=u,p=k(()=>n.getObject(e.id)),t=k(()=>e.featured||!1),s=()=>{d("click")};return(o,c)=>{var _,$;return l(),i("div",{onClick:c[0]||(c[0]=ne=>s()),class:w({card:!0,"mb-3":!0,"mx-2":!0,shadow:!0,"text-bg-info":t.value}),style:{width:"18rem"}},[r("div",A,[r("h5",U,f((_=p.value)==null?void 0:_.name()),1),r("h6",H,f(($=p.value)==null?void 0:$.DevOpsType),1)])],2)}}}),K=S(J,[["__scopeId","data-v-b10258d6"]]),R={"aria-label":"breadcrumb"},W={class:"breadcrumb"},X=["onClick"],Y={href:"javascript:;"},Z={key:0,class:"breadcrumb-item","aria-current":"page"},ee={href:"javascript:;"},te=b({__name:"DevOpsBreadCrumbs",props:{objectIds:{},defaultText:{}},emits:["click"],setup(a,{emit:u}){const n=u,e=a,d=F();return(p,t)=>(l(),i("nav",R,[r("ol",W,[(l(!0),i(y,null,C(e.objectIds,s=>{var o,c;return l(),i("li",{onClick:_=>n("click",s),class:"breadcrumb-item","aria-current":"page",key:s},[r("a",Y,f((o=v(d).getObject(s))==null?void 0:o.name())+" ("+f((c=v(d).getObject(s))==null?void 0:c.DevOpsType)+") ",1)],8,X)}),128)),e.objectIds.length==0&&e.defaultText?(l(),i("li",Z,[r("a",ee,f(e.defaultText),1)])):g("",!0)])]))}}),se={class:"container"},ie=b({__name:"ExplorerView",setup(a){const u=F(),n=j([]),e=j([]),d=k(()=>{var t;if(e.value.length>0){const s=e.value[e.value.length-1];return(t=u.getObject(s))==null?void 0:t.children()}return u.devopsObjectsByType(D.TeamProject)}),p=t=>{let s=e.value.pop();for(;e.value.length>0&&s!=t;)s=e.value.pop()};return(t,s)=>(l(),i(y,null,[x(te,{objectIds:e.value,onClick:p,defaultText:"All Projects"},null,8,["objectIds"]),r("div",se,[(l(!0),i(y,null,C(d.value,o=>(l(),h(K,{onClick:c=>e.value.push(o._id),id:o._id,featured:n.value.includes(o._id),key:o._id},null,8,["onClick","id","featured"]))),128))]),x(z)],64))}});export{ie as default};
