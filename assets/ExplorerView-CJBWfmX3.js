import{d as b,c as i,a,b as O,t as f,e as g,o as r,f as B,r as j,g as k,w as I,h as C,v as w,u as v,F as y,i as h,j as D,_ as T,n as V,k as S}from"./index-DvYtNKmV.js";import{u as F,O as N}from"./devops-DKjJ-OT-.js";const Q={key:0},L=b({__name:"FilterSingleQueryQuickComponent",props:{filterObject:{}},emits:["onClick","onEdit"],setup(c,{emit:u}){const l=u,e=c,d=function(){l("onClick")},p=function(){l("onEdit")};return(t,s)=>(r(),i("div",{onOnclick:s[1]||(s[1]=n=>d())},[a("h4",null,[O(f(e.filterObject.name)+" ",1),a("i",{onClick:s[0]||(s[0]=n=>p()),class:"bi bi-pencil-square"})]),a("h5",null,[e.filterObject.enabled===!1?(r(),i("span",Q,"Disabled")):g("",!0)])],32))}}),q=B("filters",()=>{const c=new Map;return{getFilterById:e=>c.get(e),getFilterByType:e=>[...c.values()].filter(d=>d.filterType===e)}});var _=(c=>(c.SingleObjectFilter="Single-Object Filter",c))(_||{});const G={"data-bs-backdrop":"false",class:"offcanvas offcanvas-bottom",tabindex:"-1",id:"filterOffCanvas","aria-labelledby":"filterOffCanvasLabel"},M={class:"offcanvas-body small"},P={key:0},z={key:1},A=b({__name:"FilterView",setup(c){const u=q(),l=j(null),e=k(()=>l.value!==null),d=p=>{const t={filterType:p};l.value=t};return(p,t)=>{var n;const s=D("FilterSingleQueryEditComponent");return r(),i("div",G,[t[4]||(t[4]=a("div",{class:"offcanvas-header"},[O(" Filters: "),a("div",{"aria-controls":"filterOffCanvas",class:"btn btn-primary",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#filterOffCanvas"},"TOGGLE ")],-1)),a("div",M,[e.value?(r(),i("div",P,[t[2]||(t[2]=a("h4",null,"Editing",-1)),l.value?I((r(),i("input",{key:0,placeholder:"Name","onUpdate:modelValue":t[0]||(t[0]=o=>l.value.name=o)},null,512)),[[w,l.value.name]]):g("",!0),((n=l.value)==null?void 0:n.filterType)==v(_).SingleObjectFilter?(r(),C(s,{key:1})):g("",!0)])):(r(),i("div",z,[a("h4",null,[t[3]||(t[3]=O(" Single-Object Filters: ")),a("i",{onClick:t[1]||(t[1]=o=>d(v(_).SingleObjectFilter)),class:"bi bi-plus-square"})]),(r(!0),i(y,null,h(v(u).getFilterByType(v(_).SingleObjectFilter),o=>(r(),C(L,{onOnEdit:m=>l.value=o,"filter-object":o,key:o.id},null,8,["onOnEdit","filter-object"]))),128))]))])])}}}),U=T(A,[["__scopeId","data-v-7d8ea11b"]]),H={class:"card-body"},J={class:"card-title"},K={class:"card-title"},R=b({__name:"DevOpsQuick",props:{id:{},featured:{type:Boolean}},emits:["click"],setup(c,{emit:u}){const l=F(),e=c,d=u,p=k(()=>l.getObject(e.id)),t=k(()=>e.featured||!1),s=o=>{console.log("click",o),d("click")},n=o=>{console.log("explore",o)};return(o,m)=>{var x,$;return r(),i("div",{onClick:m[0]||(m[0]=E=>s(E)),class:V({card:!0,"mb-3":!0,"mx-2":!0,shadow:!0,"text-bg-info":t.value}),style:{width:"18rem"}},[a("div",H,[a("h5",J,f((x=p.value)==null?void 0:x.name()),1),a("h6",K,f(($=p.value)==null?void 0:$.DevOpsType),1),a("a",{href:"javascript:;",onClick:n},"Explore")])],2)}}}),W=T(R,[["__scopeId","data-v-25b0cc49"]]),X={"aria-label":"breadcrumb"},Y={class:"breadcrumb"},Z=["onClick"],ee={href:"javascript:;"},te={key:0,class:"breadcrumb-item","aria-current":"page"},se={href:"javascript:;"},ne=b({__name:"DevOpsBreadCrumbs",props:{objectIds:{},defaultText:{}},emits:["click"],setup(c,{emit:u}){const l=u,e=c,d=F();return(p,t)=>(r(),i("nav",X,[a("ol",Y,[(r(!0),i(y,null,h(e.objectIds,s=>{var n,o;return r(),i("li",{onClick:m=>l("click",s),class:"breadcrumb-item","aria-current":"page",key:s},[a("a",ee,f((n=v(d).getObject(s))==null?void 0:n.name())+" ("+f((o=v(d).getObject(s))==null?void 0:o.DevOpsType)+") ",1)],8,Z)}),128)),e.objectIds.length==0&&e.defaultText?(r(),i("li",te,[a("a",se,f(e.defaultText),1)])):g("",!0)])]))}}),le={class:"container"},ae=b({__name:"ExplorerView",setup(c){const u=F(),l=j([]),e=j([]),d=k(()=>{var s;let t=[];if(e.value.length>0){const n=e.value[e.value.length-1];t=((s=u.getObject(n))==null?void 0:s.children())||[]}else t=u.devopsObjectsByType(N.TeamProject);return t.sort((n,o)=>n.sortBy.localeCompare(o.sortBy))}),p=t=>{let s=e.value.pop();for(;e.value.length>0&&s!=t;)s=e.value.pop()};return(t,s)=>(r(),i(y,null,[S(ne,{objectIds:e.value,onClick:p,defaultText:"All Projects"},null,8,["objectIds"]),a("div",le,[(r(!0),i(y,null,h(d.value,n=>(r(),C(W,{onClick:o=>e.value.push(n._id),id:n._id,featured:l.value.includes(n._id),key:n._id},null,8,["onClick","id","featured"]))),128))]),S(U)],64))}});export{ae as default};
