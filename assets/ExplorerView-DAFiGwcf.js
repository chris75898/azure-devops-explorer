import{d as B,c as o,a as l,b as S,t as g,e as f,o as t,f as G,r as A,g as b,w as V,h as v,v as U,u as p,F,i as E,j as H,_ as J,k as W,l as M,n as d,m as $,p as X,q as K,T as D,s as L}from"./index-BhihFmbK.js";import{u as q,O as Y}from"./devops-iEPor62R.js";const ee={key:0},te=B({__name:"FilterSingleQueryQuickComponent",props:{filterObject:{}},emits:["onClick","onEdit"],setup(c,{emit:a}){const n=a,r=c,k=function(){n("onClick")},m=function(){n("onEdit")};return(s,i)=>(t(),o("div",{onOnclick:i[1]||(i[1]=u=>k())},[l("h4",null,[S(g(r.filterObject.name)+" ",1),l("i",{onClick:i[0]||(i[0]=u=>m()),class:"bi bi-pencil-square"})]),l("h5",null,[r.filterObject.enabled===!1?(t(),o("span",ee,"Disabled")):f("",!0)])],32))}}),ae=G("filters",()=>{const c=new Map;return{getFilterById:r=>c.get(r),getFilterByType:r=>[...c.values()].filter(k=>k.filterType===r)}});var R=(c=>(c.SingleObjectFilter="Single-Object Filter",c))(R||{});const le={"data-bs-backdrop":"false",class:"offcanvas offcanvas-bottom",tabindex:"-1",id:"filterOffCanvas","aria-labelledby":"filterOffCanvasLabel"},ne={class:"offcanvas-body small"},oe={key:0},re={key:1},se=B({__name:"FilterView",setup(c){const a=ae(),n=A(null),r=b(()=>n.value!==null),k=m=>{const s={filterType:m};n.value=s};return(m,s)=>{var u;const i=H("FilterSingleQueryEditComponent");return t(),o("div",le,[s[4]||(s[4]=l("div",{class:"offcanvas-header"},[S(" Filters: "),l("div",{"aria-controls":"filterOffCanvas",class:"btn btn-primary",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#filterOffCanvas"},"TOGGLE ")],-1)),l("div",ne,[r.value?(t(),o("div",oe,[s[2]||(s[2]=l("h4",null,"Editing",-1)),n.value?V((t(),o("input",{key:0,placeholder:"Name","onUpdate:modelValue":s[0]||(s[0]=y=>n.value.name=y)},null,512)),[[U,n.value.name]]):f("",!0),((u=n.value)==null?void 0:u.filterType)==p(R).SingleObjectFilter?(t(),v(i,{key:1})):f("",!0)])):(t(),o("div",re,[l("h4",null,[s[3]||(s[3]=S(" Single-Object Filters: ")),l("i",{onClick:s[1]||(s[1]=y=>k(p(R).SingleObjectFilter)),class:"bi bi-plus-square"})]),(t(!0),o(F,null,E(p(a).getFilterByType(p(R).SingleObjectFilter),y=>(t(),v(te,{onOnEdit:C=>n.value=y,"filter-object":y,key:y.id},null,8,["onOnEdit","filter-object"]))),128))]))])])}}}),de=J(se,[["__scopeId","data-v-7d8ea11b"]]);function Q(c,a){return t(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z","clip-rule":"evenodd"})])}function Z(c,a){return t(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z","clip-rule":"evenodd"})])}function I(c,a){return t(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{d:"M7.5 3.375c0-1.036.84-1.875 1.875-1.875h.375a3.75 3.75 0 0 1 3.75 3.75v1.875C13.5 8.161 14.34 9 15.375 9h1.875A3.75 3.75 0 0 1 21 12.75v3.375C21 17.16 20.16 18 19.125 18h-9.75A1.875 1.875 0 0 1 7.5 16.125V3.375Z"}),l("path",{d:"M15 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 17.25 7.5h-1.875A.375.375 0 0 1 15 7.125V5.25ZM4.875 6H6v10.125A3.375 3.375 0 0 0 9.375 19.5H16.5v1.125c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V7.875C3 6.839 3.84 6 4.875 6Z"})])}const ie={key:0},ce={key:0},ue={key:1},pe={key:2},ve={key:3},ge=B({__name:"NestedComponent",props:{data:{default:()=>{}},level:{default:0},parentKey:{default:""},darkMode:{type:Boolean,default:!0},expanded:{type:Boolean,default:!1}},setup(c){const a=c,n=A(a.expanded??!1);W(()=>{a.level===0&&(n.value=!0)});const r=b(()=>typeof a.data=="object"&&!Array.isArray(a.data)&&a.data!==null&&!(a.data instanceof RegExp)&&!(a.data instanceof Map)&&!(a.data instanceof Set)),k=b(()=>Array.isArray(a.data)),m=b(()=>a.data instanceof RegExp),s=b(()=>a.data instanceof Map),i=b(()=>a.data instanceof Set),u=b(()=>["string","number","boolean","object","regexp"].includes(typeof a.data)&&a.data!==null),y=b(()=>typeof a.data=="string"?"string-value":typeof a.data=="number"?"number-value":typeof a.data=="boolean"?"boolean-value":a.data===null?"null-value":a.data instanceof Date?"date-value":a.data instanceof RegExp?"regexp-value":"");function C(){n.value=!n.value}function _(){const e=JSON.stringify(a.data,null,2);navigator.clipboard.writeText(e).then(()=>{O.value=!0,setTimeout(()=>O.value=!1,2e3)})}function x(e){const h=a.darkMode?["#e06c75","#e5c07b","#98c379","#56b6c2","#61afef","#c678dd"]:["#d32f2f","#fbc02d","#388e3c","#0288d1","#1976d2","#7b1fa2"];return h[e%h.length]}const O=A(!1),z=b(()=>{if(r.value){const e=Object.keys(a.data);return`{ ${e.slice(0,2).map(h=>`${h}: ${N(a.data[h])}`).join(", ")}${e.length>2?", ...":""} }`}else{if(k.value)return`[${a.data.slice(0,2).map(e=>N(e)).join(", ")}${a.data.length>2?", ...":""}]`;if(s.value){const e=Array.from(a.data.entries());return`Map { ${e.slice(0,2).map(h=>{const[T,j]=h;return`${T}: ${N(j)}`}).join(", ")}${e.length>2?", ...":""} }`}else if(i.value){const e=Array.from(a.data.values());return`Set { ${e.slice(0,2).map(h=>N(h)).join(", ")}${e.length>2?", ...":""} }`}}return""});function N(e){return typeof e=="string"?`"${e}"`:typeof e=="number"||typeof e=="boolean"?e:Array.isArray(e)?"[...]":typeof e=="object"?"{...}":e instanceof RegExp?e.toString():e instanceof Date?e.toISOString():String(e)}const P=b(()=>a.data instanceof Date);return(e,h)=>{const T=H("NestedComponent",!0);return t(),o("div",{class:d({"json-viewer-dark":e.darkMode&&e.level===0,"json-viewer-light":!e.darkMode&&e.level===0}),style:$({marginLeft:e.level*10+"px",padding:"2px 0"})},[r.value&&!m.value&&!P.value&&!s.value&&!i.value?(t(),o("div",ie,[l("span",{class:"cursor-pointer",onClick:C},[n.value?(t(),v(p(Q),{key:0,class:d([["toggle-btn",e.darkMode?"toggle-btn-dark":"toggle-btn-light","cursor-pointer"],"margin-lr-5 height10 width10"])},null,8,["class"])):f("",!0),n.value?f("",!0):(t(),v(p(Z),{key:1,class:d([["toggle-btn",e.darkMode?"toggle-btn-dark":"toggle-btn-light","cursor-pointer"],"margin-lr-5 height10 width10"])},null,8,["class"])),l("span",{style:$({color:x(e.level)}),class:"type-label key"},[S(g(e.parentKey)+" ",1),e.level!==0?(t(),o("span",ce,":")):f("",!0),h[0]||(h[0]=S(" { "))],4),n.value?f("",!0):(t(),o("span",{key:2,class:d(["preview",{"preview-dark":e.darkMode,"preview-light":!e.darkMode}])},g(z.value),3)),e.level!==0?(t(),o("span",{key:3,style:$({color:x(e.level)}),class:"key key-count margin-lr-5 cursor-pointer"},g(Object.keys(e.data).length)+" ...",5)):f("",!0)]),M(p(I),{class:d(["copy-icon margin-lr-5 cursor-pointer",e.darkMode?"copy-icon-dark":"copy-icon-light"]),onClick:X(_,["stop"])},null,8,["class"]),M(D,{name:"fade"},{default:K(()=>[O.value?(t(),o("span",{key:0,class:d(["copy-tooltip",{"copy-tooltip-dark":e.darkMode,"copy-tooltip-light":!e.darkMode}])},"Copied!",2)):f("",!0)]),_:1}),V(l("div",{class:d(["node-children",e.darkMode?"node-children-dark":"node-children-light"])},[(t(!0),o(F,null,E(e.data,(j,w)=>(t(),v(T,{key:w,darkMode:e.darkMode,data:j,level:e.level+1,parentKey:w,expanded:n.value},null,8,["darkMode","data","level","parentKey","expanded"]))),128))],2),[[L,n.value]]),l("span",{class:d(["toggle-btn cursor-pointer",e.darkMode?"toggle-btn-dark":"toggle-btn-light"]),onClick:C},"},",2)])):k.value?(t(),o("div",ue,[l("span",{onClick:C,class:"cursor-pointer"},[n.value?(t(),v(p(Q),{key:0,class:d([["toggle-btn",e.darkMode?"toggle-btn-dark":"toggle-btn-light","cursor-pointer"],"margin-lr-5 height10 width10"])},null,8,["class"])):(t(),v(p(Z),{key:1,class:d([["toggle-btn",e.darkMode?"toggle-btn-dark":"toggle-btn-light","cursor-pointer"],"margin-lr-5 height10 width10"])},null,8,["class"])),l("span",{style:$({color:x(e.level)}),class:"key type-label"},[S(g(e.parentKey)+":",1),l("span",{style:$({color:x(e.level)}),class:"key key-count cursor-pointer"}," ["+g(e.data.length)+"]...",5)],4)]),M(p(I),{class:d(["copy-icon margin-lr-5 cursor-pointer",e.darkMode?"copy-icon-dark":"copy-icon-light"]),onClick:_},null,8,["class"]),M(D,{name:"fade"},{default:K(()=>[O.value?(t(),o("span",{key:0,class:d(["copy-tooltip",{"copy-tooltip-dark":e.darkMode,"copy-tooltip-light":!e.darkMode}])},"Copied!",2)):f("",!0)]),_:1}),V(l("div",{class:d(["node-children",e.darkMode?"node-children-dark":"node-children-light"])},[(t(!0),o(F,null,E(e.data,(j,w)=>(t(),v(T,{key:w,darkMode:e.darkMode,data:j,level:e.level+1,parentKey:`${e.parentKey}[${w}]`,expanded:n.value},null,8,["darkMode","data","level","parentKey","expanded"]))),128))],2),[[L,n.value]])])):s.value?(t(),o("div",pe,[l("span",{onClick:C,class:"cursor-pointer"},[n.value?(t(),v(p(Q),{key:0,class:d([["toggle-btn",e.darkMode?"toggle-btn-dark":"toggle-btn-light","cursor-pointer"],"margin-lr-5 height10 width10"])},null,8,["class"])):(t(),v(p(Z),{key:1,class:d([["toggle-btn",e.darkMode?"toggle-btn-dark":"toggle-btn-light","cursor-pointer"],"margin-lr-5 height10 width10"])},null,8,["class"])),l("span",{style:$({color:x(e.level)}),class:"key type-label"},[S(g(e.parentKey)+": ",1),l("span",{style:$({color:x(e.level)}),class:"key key-count cursor-pointer"}," [Map]",4)],4)]),M(p(I),{class:d(["copy-icon margin-lr-5 cursor-pointer",e.darkMode?"copy-icon-dark":"copy-icon-light"]),onClick:_},null,8,["class"]),M(D,{name:"fade"},{default:K(()=>[O.value?(t(),o("span",{key:0,class:d(["copy-tooltip",{"copy-tooltip-dark":e.darkMode,"copy-tooltip-light":!e.darkMode}])},"Copied!",2)):f("",!0)]),_:1}),V(l("div",{class:d(["node-children",e.darkMode?"node-children-dark":"node-children-light"])},[(t(!0),o(F,null,E(Array.from(e.data.entries()),(j,w)=>(t(),v(T,{key:w,darkMode:e.darkMode,data:j,level:e.level+1,parentKey:w,expanded:n.value},null,8,["darkMode","data","level","parentKey","expanded"]))),128))],2),[[L,n.value]])])):i.value?(t(),o("div",ve,[l("span",{onClick:C,class:"cursor-pointer"},[n.value?(t(),v(p(Q),{key:0,class:d([["toggle-btn",e.darkMode?"toggle-btn-dark":"toggle-btn-light","cursor-pointer"],"margin-lr-5 height10 width10"])},null,8,["class"])):(t(),v(p(Z),{key:1,class:d([["toggle-btn",e.darkMode?"toggle-btn-dark":"toggle-btn-light","cursor-pointer"],"margin-lr-5 height10 width10"])},null,8,["class"])),l("span",{style:$({color:x(e.level)}),class:"key type-label"},[S(g(e.parentKey)+": ",1),l("span",{style:$({color:x(e.level)}),class:"key key-count cursor-pointer"}," [Set]",4)],4)]),M(p(I),{class:d(["copy-icon margin-lr-5 cursor-pointer",e.darkMode?"copy-icon-dark":"copy-icon-light"]),onClick:_},null,8,["class"]),M(D,{name:"fade"},{default:K(()=>[O.value?(t(),o("span",{key:0,class:d(["copy-tooltip",{"copy-tooltip-dark":e.darkMode,"copy-tooltip-light":!e.darkMode}])},"Copied!",2)):f("",!0)]),_:1}),V(l("div",{class:d(["node-children",e.darkMode?"node-children-dark":"node-children-light"])},[(t(!0),o(F,null,E(Array.from(e.data.values()),(j,w)=>(t(),v(T,{key:w,darkMode:e.darkMode,data:j,level:e.level+1,parentKey:`${e.parentKey}[${w}]`,expanded:n.value},null,8,["darkMode","data","level","parentKey","expanded"]))),128))],2),[[L,n.value]])])):(t(),o("div",{key:4,class:d(["leaf-node",e.darkMode?"leaf-node-dark":"leaf-node-light"])},[l("span",{onClick:C},[l("span",{class:d(["key",e.darkMode?"key-dark":"key-light"])},g(e.parentKey),3),h[1]||(h[1]=S(": ")),l("span",{class:d(["key",y.value,e.darkMode?"value-dark":"value-light"])},g(e.data),3)]),u.value?(t(),v(p(I),{key:0,class:d(["copy-icon margin-lr-5 cursor-pointer",e.darkMode?"copy-icon-dark":"copy-icon-light"]),onClick:_},null,8,["class"])):f("",!0),M(D,{name:"fade"},{default:K(()=>[O.value?(t(),o("span",{key:0,class:d(["copy-tooltip",{"copy-tooltip-dark":e.darkMode,"copy-tooltip-light":!e.darkMode}])},"Copied!",2)):f("",!0)]),_:1})],2))],6)}}}),ke=B({__name:"JsonViewer",props:{data:{default:()=>{}},level:{default:0},parentKey:{default:""},darkMode:{type:Boolean,default:!0},expanded:{type:Boolean,default:!1}},setup(c){return(a,n)=>(t(),v(ge,{darkMode:a.darkMode,data:a.data,level:a.level,expanded:a.expanded},null,8,["darkMode","data","level","expanded"]))}}),ye=B({__name:"DevOpsDetail",props:{id:{}},setup(c){const a=q(),n=b(()=>a.getObject(r.id)),r=c;return(k,m)=>{var s,i;return t(),o("div",null,[l("h3",null,g((s=n.value)==null?void 0:s.name()),1),l("h5",null,g((i=n.value)==null?void 0:i.DevOpsType),1),M(p(ke),{data:n.value},null,8,["data"])])}}}),fe={class:"card-body"},he={class:"card-title"},be={class:"card-title"},me=B({__name:"DevOpsQuick",props:{id:{},featured:{type:Boolean}},emits:["click"],setup(c,{emit:a}){const n=q(),r=c,k=a,m=b(()=>n.getObject(r.id)),s=b(()=>r.featured||!1),i=A(!1),u=C=>{const _=C.target;(_==null?void 0:_.tagName)!=="A"&&k("click")},y=()=>{i.value=!0};return(C,_)=>{var x,O;return t(),o(F,null,[l("div",{onClick:_[0]||(_[0]=z=>u(z)),class:d({card:!0,"mb-3":!0,"mx-2":!0,shadow:!0,"text-bg-info":s.value}),style:{width:"18rem"}},[l("div",fe,[l("h5",he,g((x=m.value)==null?void 0:x.name()),1),l("h6",be,g((O=m.value)==null?void 0:O.DevOpsType),1),l("a",{href:"javascript:;",onClick:y},"Explore")])],2),i.value?(t(),v(ye,{key:0,id:r.id},null,8,["id"])):f("",!0)],64)}}}),_e=J(me,[["__scopeId","data-v-dd3bc98f"]]),Me={"aria-label":"breadcrumb"},Ce={class:"breadcrumb"},xe=["onClick"],we={href:"javascript:;"},Oe={key:0,class:"breadcrumb-item","aria-current":"page"},je={href:"javascript:;"},$e=B({__name:"DevOpsBreadCrumbs",props:{objectIds:{},defaultText:{}},emits:["click"],setup(c,{emit:a}){const n=a,r=c,k=q();return(m,s)=>(t(),o("nav",Me,[l("ol",Ce,[(t(!0),o(F,null,E(r.objectIds,i=>{var u,y;return t(),o("li",{onClick:C=>n("click",i),class:"breadcrumb-item","aria-current":"page",key:i},[l("a",we,g((u=p(k).getObject(i))==null?void 0:u.name())+" ("+g((y=p(k).getObject(i))==null?void 0:y.DevOpsType)+") ",1)],8,xe)}),128)),r.objectIds.length==0&&r.defaultText?(t(),o("li",Oe,[l("a",je,g(r.defaultText),1)])):f("",!0)])]))}}),Se={class:"container"},Ee=B({__name:"ExplorerView",setup(c){const a=q(),n=A([]),r=A([]),k=b(()=>{var i;let s=[];if(r.value.length>0){const u=r.value[r.value.length-1];s=((i=a.getObject(u))==null?void 0:i.children())||[]}else s=a.devopsObjectsByType(Y.TeamProject);return s.sort((u,y)=>u.sortBy.localeCompare(y.sortBy))}),m=s=>{let i=r.value.pop();for(;r.value.length>0&&i!=s;)i=r.value.pop()};return(s,i)=>(t(),o(F,null,[M($e,{objectIds:r.value,onClick:m,defaultText:"All Projects"},null,8,["objectIds"]),l("div",Se,[(t(!0),o(F,null,E(k.value,u=>(t(),v(_e,{onClick:y=>r.value.push(u._id),id:u._id,featured:n.value.includes(u._id),key:u._id},null,8,["onClick","id","featured"]))),128))]),M(de)],64))}});export{Ee as default};
